(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"1d6c4d2a7bdc74efd1d7":function(e,t,a){"use strict";a.r(t);var r=a("246df9874efc20494c0b"),n=a.n(r),c=a("fa00940e6bf87c1990f4"),i=a("811a4999285c4f950f0a"),d=a("fe25efaa8d6f45e3f5f9"),o=a("499d577663719e9512ef"),E=a("6104aceff0328eacbce8"),u=a("ca37a65e274e0b8f5aaa"),D=n.a.createElement(c.Switch,null,n.a.createElement(c.Route,{exact:!0,path:"/project/:projectId/widget/:widgetId?",component:u.c}),n.a.createElement(c.Route,{exact:!0,path:"/project/:projectId/widgets",component:u.b}));t.default=function(){return Object(i.b)({key:"widget",reducer:o.a}),Object(d.b)({key:"widget",saga:E.a}),D}},"499d577663719e9512ef":function(e,t,a){"use strict";a.d(t,"b",(function(){return i}));var r=a("c389aac0efb56eb7cd62"),n=a("be3ae9b489ceb948e586"),c=a("88a09aae288902a34b11"),i={widgets:null,currentWidget:null,loading:!1,dataLoading:!1,widgetsList:null};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return Object(r.a)(e,(function(e){switch(t.type){case n.a.LOAD_WIDGETS:e.loading=!0,e.widgets=null;break;case n.a.LOAD_WIDGETS_SUCCESS:e.loading=!1,e.widgets=t.payload.widgets;break;case n.a.LOAD_WIDGETS_LIST_SUCCESS:e.loading=!1,e.widgetsList=t.payload.list;case n.a.LOAD_WIDGETS_FAILURE:e.loading=!1;break;case n.a.ADD_WIDGET:e.loading=!0;break;case n.a.ADD_WIDGET_SUCCESS:e.widgets?(e.widgets.push(t.payload.result),e.loading=!1):(e.loading=!1,e.widgets=[t.payload.result]);break;case n.a.ADD_WIDGET_FAILURE:e.loading=!1;break;case n.a.DELETE_WIDGET:e.loading=!0;break;case n.a.DELETE_WIDGET_SUCCESS:case n.a.DELETE_WIDGET_FAILURE:e.loading=!1;break;case n.a.LOAD_WIDGET_DETAIL:e.loading=!0,e.currentWidget=null;break;case n.a.LOAD_WIDGET_DETAIL_SUCCESS:e.loading=!1,e.currentWidget=t.payload.detail;break;case n.a.LOAD_WIDGET_DETAIL_FAILURE:e.loading=!1;break;case n.a.EDIT_WIDGET:e.loading=!0;break;case n.a.EDIT_WIDGET_SUCCESS:case n.a.EDIT_WIDGET_FAILURE:e.loading=!1;break;case n.a.COPY_WIDGET:e.loading=!0;break;case n.a.COPY_WIDGET_SUCCESS:e.loading=!1;break;case n.a.COPY_WIDGET_FAILURE:e.loading=!1;case c.a.LOAD_VIEW_DATA:e.dataLoading=!0;break;case c.a.LOAD_VIEW_DATA_SUCCESS:case c.a.LOAD_VIEW_DATA_FAILURE:e.dataLoading=!1;break;case n.a.CLEAR_CURRENT_WIDGET:e.currentWidget=null}}))}},"6104aceff0328eacbce8":function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));a("e03a1fbff99f345f4be6"),a("3e773e5b33927ebcb5b1"),a("ac96dedceb53987893c2");var r=a("612ec9d7faa9910b9d79"),n=a("be3ae9b489ceb948e586"),c=a("4ab44c001bf0638dcd19"),i=a.n(c),d=a("6ba0a35486f5e23ac5ae"),o=a("95066b9b78a83cfbe91a"),E=a("9adba983ceae6f089ff0"),u=a("55c69f0ea731e712b8f3"),D=a("178f6adcf35ca45776ac"),p=regeneratorRuntime.mark(O),s=regeneratorRuntime.mark(A),_=regeneratorRuntime.mark(y),l=regeneratorRuntime.mark(G),I=regeneratorRuntime.mark(C),g=regeneratorRuntime.mark(v),T=regeneratorRuntime.mark(w),b=regeneratorRuntime.mark(j),W=regeneratorRuntime.mark(U);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){L(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function L(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function O(e){var t,a,c,i,s;return regeneratorRuntime.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(e.type===n.a.LOAD_WIDGETS){p.next=2;break}return p.abrupt("return");case 2:return t=e.payload,a=t.projectId,c=t.page,i=t.pageSize,p.prev=3,p.next=6,Object(r.call)(o.a,{url:"".concat(E.a.widgetList),method:"POST",data:{projectId:a,page:c,pageSize:i}});case 6:return s=p.sent,console.log(s),s.payload.list=s.payload.list.map((function(e){var t=JSON.parse(e.config);return S(S({},e),{},{config:Object(D.d)(t,{viewId:e.viewId})})})),p.next=11,Object(r.put)(d.a.widgetsLoaded(s.payload));case 11:p.next=18;break;case 13:return p.prev=13,p.t0=p.catch(3),p.next=17,Object(r.put)(d.a.widgetsLoadedFail());case 17:Object(u.a)(p.t0);case 18:case"end":return p.stop()}}),p,null,[[3,13]])}function A(e){var t,a,c,i,p,_;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.type===n.a.LOAD_WIDGETS_LIST){s.next=2;break}return s.abrupt("return");case 2:return t=e.payload,a=t.projectId,c=t.page,i=t.pageSize,s.prev=3,s.next=6,Object(r.call)(o.a,{url:"".concat(E.a.widgetList),method:"post",data:{projectId:a,page:c,pageSize:i}});case 6:return p=s.sent,_=p.payload.list.map((function(e){var t=JSON.parse(e.config);return S(S({},e),{},{config:Object(D.d)(t,{viewId:e.viewId})})})),s.next=10,Object(r.put)(d.a.widgetsListLoaded(S(S({},p.payload),{},{formedWidgets:_})));case 10:s.next=17;break;case 12:return s.prev=12,s.t0=s.catch(3),s.next=16,Object(r.put)(d.a.widgetsLoadedFail());case 16:Object(u.a)(s.t0);case 17:case"end":return s.stop()}}),s,null,[[3,12]])}function y(e){var t,a,c,i,D,p;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.type===n.a.ADD_WIDGET){s.next=2;break}return s.abrupt("return");case 2:return t=e.payload,a=t.widget,c=t.resolve,s.prev=3,s.next=6,Object(r.call)(o.a,{method:"post",url:E.a.widget,data:a});case 6:return i=s.sent,D=i.payload,p=S(S({},D),{},{config:JSON.parse(D.config)}),s.next=11,Object(r.put)(d.a.widgetAdded(p));case 11:c(),s.next=19;break;case 14:return s.prev=14,s.t0=s.catch(3),s.next=18,Object(r.put)(d.a.addWidgetFail());case 18:Object(u.a)(s.t0);case 19:case"end":return s.stop()}}),_,null,[[3,14]])}function G(e){var t,a,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.type===n.a.DELETE_WIDGET){i.next=2;break}return i.abrupt("return");case 2:return t=e.payload,a=t.id,c=t.resolve,i.prev=3,i.next=6,Object(r.call)(o.a,{method:"delete",url:"".concat(E.a.widget,"/").concat(a)});case 6:return i.next=8,Object(r.put)(d.a.widgetDeleted(a));case 8:c(),i.next=16;break;case 11:return i.prev=11,i.t0=i.catch(3),i.next=15,Object(r.put)(d.a.deleteWidgetFail());case 15:Object(u.a)(i.t0);case 16:case"end":return i.stop()}}),l,null,[[3,11]])}function C(e){var t,a,c,i,p,s;return regeneratorRuntime.wrap((function(_){for(;;)switch(_.prev=_.next){case 0:if(e.type===n.a.LOAD_WIDGET_DETAIL){_.next=2;break}return _.abrupt("return");case 2:return t=e.payload.id,_.prev=3,_.next=6,Object(r.call)(o.a,"".concat(E.a.widget,"/").concat(t));case 6:return a=_.sent,c=a.payload,i=JSON.parse(c.config),p=S(S({},c),{},{config:Object(D.d)(i,{viewId:c.viewId})}),_.next=12,Object(r.call)(o.a,"".concat(E.a.view,"/").concat(c.viewId));case 12:return s=_.sent,_.next=15,Object(r.put)(d.a.widgetDetailLoaded(p,s.payload));case 15:_.next=22;break;case 17:return _.prev=17,_.t0=_.catch(3),_.next=21,Object(r.put)(d.a.loadWidgetDetailFail(_.t0));case 21:Object(u.a)(_.t0);case 22:case"end":return _.stop()}}),I,null,[[3,17]])}function v(e){var t,a,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.type===n.a.EDIT_WIDGET){i.next=2;break}return i.abrupt("return");case 2:return t=e.payload,a=t.widget,c=t.resolve,i.prev=3,i.next=6,Object(r.call)(o.a,{method:"put",url:"".concat(E.a.widget,"/").concat(a.id),data:a});case 6:return i.next=8,Object(r.put)(d.a.widgetEdited());case 8:c(),i.next=16;break;case 11:return i.prev=11,i.t0=i.catch(3),i.next=15,Object(r.put)(d.a.editWidgetFail());case 15:Object(u.a)(i.t0);case 16:case"end":return i.stop()}}),g,null,[[3,11]])}function w(e){var t,a,c,D,p,s;return regeneratorRuntime.wrap((function(_){for(;;)switch(_.prev=_.next){case 0:if(e.type===n.a.COPY_WIDGET){_.next=2;break}return _.abrupt("return");case 2:return t=e.payload,a=t.widget,c=t.resolve,_.prev=3,_.next=6,Object(r.call)(o.a,{method:"post",url:E.a.widget,data:i()(a,"id")});case 6:return D=_.sent,p=D.payload,s=S(S({},p),{},{config:JSON.parse(p.config)}),_.next=11,Object(r.put)(d.a.widgetCopied(a.id,s));case 11:c(),_.next=19;break;case 14:return _.prev=14,_.t0=_.catch(3),_.next=18,Object(r.put)(d.a.copyWidgetFail());case 18:Object(u.a)(_.t0);case 19:case"end":return _.stop()}}),T,null,[[3,14]])}function j(e){var t;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.type===n.a.EXECUTE_COMPUTED_SQL){a.next=2;break}return a.abrupt("return");case 2:return t=e.payload.sql,a.prev=3,a.next=6,Object(r.call)(o.a,{method:"post",data:t});case 6:a.sent,a.next=12;break;case 9:a.prev=9,a.t0=a.catch(3),Object(u.a)(a.t0);case 12:case"end":return a.stop()}}),b,null,[[3,9]])}function U(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.all)([Object(r.takeLatest)(n.a.LOAD_WIDGETS,O),Object(r.takeLatest)(n.a.LOAD_WIDGETS_LIST,A),Object(r.takeEvery)(n.a.ADD_WIDGET,y),Object(r.takeEvery)(n.a.DELETE_WIDGET,G),Object(r.takeLatest)(n.a.LOAD_WIDGET_DETAIL,C),Object(r.takeEvery)(n.a.EDIT_WIDGET,v),Object(r.takeEvery)(n.a.COPY_WIDGET,w),Object(r.takeEvery)(n.a.EXECUTE_COMPUTED_SQL,j)]);case 2:case"end":return e.stop()}}),W)}},"6ba0a35486f5e23ac5ae":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a("be3ae9b489ceb948e586"),n=a("fdb445ec61a8d515506e"),c={loadWidgets:function(e,t,a){return{type:r.a.LOAD_WIDGETS,payload:{projectId:e,page:t,pageSize:a}}},loadWidgetsList:function(e,t,a){return{type:r.a.LOAD_WIDGETS_LIST,payload:{projectId:e,page:t,pageSize:a}}},widgetsLoaded:function(e){return{type:r.a.LOAD_WIDGETS_SUCCESS,payload:{widgets:e}}},widgetsListLoaded:function(e){return console.log(e,"list"),{type:r.a.LOAD_WIDGETS_LIST_SUCCESS,payload:{list:e}}},widgetsLoadedFail:function(){return{type:r.a.LOAD_WIDGETS_FAILURE,payload:{}}},addWidget:function(e,t){return{type:r.a.ADD_WIDGET,payload:{widget:e,resolve:t}}},widgetAdded:function(e){return{type:r.a.ADD_WIDGET_SUCCESS,payload:{result:e}}},addWidgetFail:function(){return{type:r.a.ADD_WIDGET_FAILURE,payload:{}}},loadWidgetDetail:function(e){return{type:r.a.LOAD_WIDGET_DETAIL,payload:{id:e}}},widgetDetailLoaded:function(e,t){return{type:r.a.LOAD_WIDGET_DETAIL_SUCCESS,payload:{detail:e,view:t}}},loadWidgetDetailFail:function(e){return{type:r.a.LOAD_WIDGET_DETAIL_FAILURE,payload:{error:e}}},editWidget:function(e,t){return{type:r.a.EDIT_WIDGET,payload:{widget:e,resolve:t}}},widgetEdited:function(){return{type:r.a.EDIT_WIDGET_SUCCESS,payload:{}}},editWidgetFail:function(){return{type:r.a.EDIT_WIDGET_FAILURE,payload:{}}},copyWidget:function(e,t){return{type:r.a.COPY_WIDGET,payload:{widget:e,resolve:t}}},widgetCopied:function(e,t){return{type:r.a.COPY_WIDGET_SUCCESS,payload:{fromWidgetId:e,result:t}}},copyWidgetFail:function(){return{type:r.a.COPY_WIDGET_FAILURE,payload:{}}},deleteWidget:function(e,t){return{type:r.a.DELETE_WIDGET,payload:{id:e,resolve:t}}},widgetDeleted:function(e){return{type:r.a.DELETE_WIDGET_SUCCESS,payload:{id:e}}},deleteWidgetFail:function(){return{type:r.a.DELETE_WIDGET_FAILURE,payload:{}}},clearCurrentWidget:function(){return{type:r.a.CLEAR_CURRENT_WIDGET,payload:{}}},executeComputed:function(e){return{type:r.a.EXECUTE_COMPUTED_SQL,payload:{sql:e}}}};Object(n.b)(c);t.b=c},be3ae9b489ceb948e586:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r,n=a("fdb445ec61a8d515506e");!function(e){e.LOAD_WIDGETS="davinci/Widget/LOAD_WIDGETS",e.LOAD_WIDGETS_LIST="davinci/Widget/LOAD_WIDGETS_LIST",e.LOAD_WIDGETS_LIST_SUCCESS="davinci/Widget/LOAD_WIDGETS_LIST_SUCCESS",e.LOAD_WIDGETS_SUCCESS="davinci/Widget/LOAD_WIDGETS_SUCCESS",e.LOAD_WIDGETS_FAILURE="davinci/Widget/LOAD_WIDGETS_FAILURE",e.ADD_WIDGET="davinci/Widget/ADD_WIDGET",e.ADD_WIDGET_SUCCESS="davinci/Widget/ADD_WIDGET_SUCCESS",e.ADD_WIDGET_FAILURE="davinci/Widget/ADD_WIDGET_FAILURE",e.LOAD_WIDGET_DETAIL="davinci/Widget/LOAD_WIDGET_DETAIL",e.LOAD_WIDGET_DETAIL_SUCCESS="davinci/Widget/LOAD_WIDGET_DETAIL_SUCCESS",e.LOAD_WIDGET_DETAIL_FAILURE="davinci/Widget/LOAD_WIDGET_DETAIL_FAILURE",e.EDIT_WIDGET="davinci/Widget/EDIT_WIDGET",e.EDIT_WIDGET_SUCCESS="davinci/Widget/EDIT_WIDGET_SUCCESS",e.EDIT_WIDGET_FAILURE="davinci/Widget/EDIT_WIDGET_FAILURE",e.COPY_WIDGET="davinci/Widget/COPY_WIDGET",e.COPY_WIDGET_SUCCESS="davinci/Widget/COPY_WIDGET_SUCCESS",e.COPY_WIDGET_FAILURE="davinci/Widget/COPY_WIDGET_FAILURE",e.DELETE_WIDGET="davinci/Widget/DELETE_WIDGET",e.DELETE_WIDGET_SUCCESS="davinci/Widget/DELETE_WIDGET_SUCCESS",e.DELETE_WIDGET_FAILURE="davinci/Widget/DELETE_WIDGET_FAILURE",e.CLEAR_CURRENT_WIDGET="davinci/Widget/CLEAR_CURRENT_WIDGET",e.EXECUTE_COMPUTED_SQL="davinci/Widget/EXECUTE_COMPUTED_SQL"}(r||(r={}));var c=Object(n.a)(r)}}]);