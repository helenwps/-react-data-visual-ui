(window.webpackJsonp=window.webpackJsonp||[]).push([[32,60],{"2c464b1ddda8bab00b4f":function(e,t,n){"use strict";function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}e.exports=function(e,t){var n;void 0===t&&(t=a);var r,o=[],c=!1;return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return c&&n===this&&t(a,o)||(r=e.apply(this,a),c=!0,n=this,o=a),r}}},"32b3e67304806035fd66":function(e,t,n){var a=n("6ddc736642678ccd07c7");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("81325eb2f60ee91338da")(a,r);a.locals&&(e.exports=a.locals)},"5a82715a0cf2e698e0a4":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return v}));n("f18022db874aa220f770"),n("2c5f629531253b6ec120"),n("3e773e5b33927ebcb5b1"),n("f3eb7a47d3412ebe8e7a"),n("6b53ae9c33928274a0e1");var a=n("0d9e341897112a3de7da"),r=n.n(a),o=n("246df9874efc20494c0b"),c=n.n(o),i=n("a7d6df8ab864c196f4b9"),l=n.n(i),u=n("5e87ed05c2869acf4295");function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function A(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=O(e);if(t){var r=O(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=c.a.createElement("i",{className:"iconfont"},"\ue71c"),_=c.a.createElement("i",{className:"iconfont"},"\ue71e"),y=function(e){b(n,e);var t=m(n);function n(e){var a;return p(this,n),(a=t.call(this,e)).state={currentButton:1},a}return A(n,[{key:"changeView",value:function(e){var t=this;return function(){t.setState({currentButton:e},(function(){t.props.onChange(e)}))}}},{key:"render",value:function(){var e=this.state.currentButton,t=function(t){var n;return r()((d(n={},l.a.selected,e==t),d(n,l.a.headerButton,!0),n))};return c.a.createElement("div",{className:l.a.changeView},c.a.createElement("button",{className:t(1),onClick:this.changeView(1)},g),c.a.createElement("button",{className:t(2),onClick:this.changeView(2)},_))}}]),n}(c.a.Component),h=function(e){b(n,e);var t=m(n);function n(e){var a;return p(this,n),d(S(a=t.call(this,e)),"contentRef",void 0),a.state={showTooltip:!1},a}return A(n,[{key:"componentDidMount",value:function(){var e=this.contentRef;this.setState({showTooltip:e.offsetWidth<e.scrollWidth})}},{key:"render",value:function(){var e=this,t=this.state.showTooltip,n=this.props.text;return c.a.createElement("div",{ref:function(t){return e.contentRef=t},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t&&c.a.createElement(u.Tooltip,{placement:"topLeft",title:n},c.a.createElement("span",null,n))||c.a.createElement("span",null,n))}}]),n}(c.a.Component),v=(u.Icon,function(e){var t=e.total,n=e.changePage,a={total:t,showTotal:function(e){return"\u5171".concat(e,"\u6761")},showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","30","40"],onChange:function(e,t){n(e,t)},onShowSizeChange:function(e,t){n(1,t)}};return c.a.createElement("div",{style:{textAlign:"right"}},c.a.createElement(u.Pagination,a))})},"691aca4c8beaad6c3aba":function(e,t,n){var a=n("2cebbbea15d16b878c4c"),r=n("5b0894b89ef20053f7a2"),o=n("8281eac5b0e77b12ae0b"),c=n("de67d87c3295549597a2"),i=n("e976e84f8e13bbe9feac");e.exports=function(e,t,n,l){if(!c(e))return e;for(var u=-1,s=(t=r(t,e)).length,d=s-1,p=e;null!=p&&++u<s;){var f=i(t[u]),A=n;if(u!=d){var b=p[f];void 0===(A=l?l(b,f,p):void 0)&&(A=c(b)?b:o(t[u+1])?[]:{})}a(p,f,A),p=p[f]}return e}},"6992aba3219428cb1fb9":function(e,t,n){var a=n("935a3238febe5e665ec6"),r=n("d7b93a8ce19a40809f44");e.exports=function(e,t){return a(e,t,(function(t,n){return r(e,n)}))}},"6c1890243ba884c62600":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return d}));var a=n("246df9874efc20494c0b"),r=n.n(a),o=n("32b3e67304806035fd66"),c=n.n(o),i=Object(a.forwardRef)((function(e,t){e.grid;var n=e.children;return r.a.createElement("div",{className:c.a.title,style:{padding:"10px"},ref:t},n)})),l=n("0d9e341897112a3de7da"),u=n.n(l);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=Object(a.forwardRef)((function(e,t){var n,a=e.grid,o=e.children,i=u()((s(n={},c.a.body,!0),s(n,c.a.grid,a),n));return r.a.createElement("div",{className:i,ref:t},o)}));t.c=function(e){var t=e.children;return r.a.createElement("div",{className:c.a.container},t)}},"6ddc736642678ccd07c7":function(e,t,n){(t=e.exports=n("0ec10d64fe1c5691a934")(!0)).push([e.i,"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors,string-no-newline */\n/*** z-index ***/\n/*** global mixins ***/\n._1_6tiJ6NTt_Ou9jfABq4A5 {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n._3wlT3cHLLCDlMUKHImJFUk {\n  overflow: -moz-scrollbars-none !important;\n  -ms-overflow-style: none !important;\n}\n._3wlT3cHLLCDlMUKHImJFUk::-webkit-scrollbar {\n  display: none;\n}\n._1toWOofhmUGK-OFNoxskEZ .ant-select,\n._1toWOofhmUGK-OFNoxskEZ .ant-input-number {\n  width: 100%;\n}\n._1toWOofhmUGK-OFNoxskEZ .ant-input-group {\n  line-height: inherit;\n}\n._1toWOofhmUGK-OFNoxskEZ .ant-input-group.ant-input-group-compact > * {\n  vertical-align: baseline;\n}\n._1toWOofhmUGK-OFNoxskEZ .ant-calendar-picker {\n  width: 100% !important;\n  min-width: auto !important;\n}\n._1toWOofhmUGK-OFNoxskEZ._1BMNKJ5Sxi45mQcGGD_LYL .ant-form-item-control {\n  line-height: 32px;\n}\n._1oYf9zEdzO7C3BG9YHYaE4 {\n  width: 100%;\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n._1oYf9zEdzO7C3BG9YHYaE4 ._1R725DyvrUFMTEWcCSqq4a {\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  padding: 20px;\n}\n._1oYf9zEdzO7C3BG9YHYaE4 ._1ZL2wclwMH_Pp_BY3OCejK {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  padding: 0px 20px 66px;\n  overflow-y: auto;\n}\n._1oYf9zEdzO7C3BG9YHYaE4 ._1ZL2wclwMH_Pp_BY3OCejK:first-child {\n  padding-top: 20px;\n}\n._1oYf9zEdzO7C3BG9YHYaE4 ._1ZL2wclwMH_Pp_BY3OCejK._3mnQgtvrN0MuM9TxWFHdRg {\n  padding: 0;\n}\n","",{version:3,sources:["Container.less"],names:[],mappings:"AAAA,4FAA4F;AAC5F,6CAA6C;AAC7C,sBAAsB;AACtB,6FAA6F;AAC7F,gBAAgB;AAChB,sBAAsB;AACtB;EACE,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;AAClB;AACA;EACE,yCAAyC;EACzC,mCAAmC;AACrC;AACA;EACE,aAAa;AACf;AACA;;EAEE,WAAW;AACb;AACA;EACE,oBAAoB;AACtB;AACA;EACE,wBAAwB;AAC1B;AACA;EACE,sBAAsB;EACtB,0BAA0B;AAC5B;AACA;EACE,iBAAiB;AACnB;AACA;EACE,WAAW;EACX,YAAY;EACZ,oBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,4BAAsB;EAAtB,6BAAsB;MAAtB,0BAAsB;UAAtB,sBAAsB;AACxB;AACA;EACE,oBAAc;MAAd,cAAc;EACd,aAAa;AACf;AACA;EACE,mBAAO;MAAP,WAAO;UAAP,OAAO;EACP,sBAAsB;EACtB,gBAAgB;AAClB;AACA;EACE,iBAAiB;AACnB;AACA;EACE,UAAU;AACZ",file:"Container.less",sourcesContent:["/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors,string-no-newline */\n/*** z-index ***/\n/*** global mixins ***/\n.ellipsis {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.hideScrollbar {\n  overflow: -moz-scrollbars-none !important;\n  -ms-overflow-style: none !important;\n}\n.hideScrollbar::-webkit-scrollbar {\n  display: none;\n}\n.antFormItemStyleWithoutForm :global .ant-select,\n.antFormItemStyleWithoutForm :global .ant-input-number {\n  width: 100%;\n}\n.antFormItemStyleWithoutForm :global .ant-input-group {\n  line-height: inherit;\n}\n.antFormItemStyleWithoutForm :global .ant-input-group.ant-input-group-compact > * {\n  vertical-align: baseline;\n}\n.antFormItemStyleWithoutForm :global .ant-calendar-picker {\n  width: 100% !important;\n  min-width: auto !important;\n}\n.antFormItemStyleWithoutForm.small :global .ant-form-item-control {\n  line-height: 32px;\n}\n.container {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.container .title {\n  flex-shrink: 0;\n  padding: 20px;\n}\n.container .body {\n  flex: 1;\n  padding: 0px 20px 66px;\n  overflow-y: auto;\n}\n.container .body:first-child {\n  padding-top: 20px;\n}\n.container .body.grid {\n  padding: 0;\n}\n"]}]),t.locals={ellipsis:"_1_6tiJ6NTt_Ou9jfABq4A5",hideScrollbar:"_3wlT3cHLLCDlMUKHImJFUk",antFormItemStyleWithoutForm:"_1toWOofhmUGK-OFNoxskEZ",small:"_1BMNKJ5Sxi45mQcGGD_LYL",container:"_1oYf9zEdzO7C3BG9YHYaE4",title:"_1R725DyvrUFMTEWcCSqq4a",body:"_1ZL2wclwMH_Pp_BY3OCejK",grid:"_3mnQgtvrN0MuM9TxWFHdRg"}},"71690be4853760f06ce2":function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},"8304c6e111de025fa955":function(e,t,n){var a=n("a0a7fda478685c7e8d00"),r=n("2ddb3e3515c2f73f2ef3");e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==a(e)}},"8acd445410c88c8add3c":function(e,t,n){"use strict";n.r(t),n.d(t,"SourceList",(function(){return Ie}));n("f18022db874aa220f770"),n("2c5f629531253b6ec120"),n("e03a1fbff99f345f4be6"),n("0d8c575eea21aa3ba6e3"),n("c7cae1660fe38cf5cfd4"),n("3e773e5b33927ebcb5b1"),n("f3eb7a47d3412ebe8e7a"),n("b46da6f4395aa2246145"),n("452b0996010030771c25"),n("57b7f737e63a2682a681"),n("92742fb3a654b21a7297"),n("0f2c84258b1b832c8127"),n("ab70b329982a2320e9ea");var a=n("246df9874efc20494c0b"),r=n.n(a),o=n("3dfcab5f522e4bc574bd"),c=n.n(o),i=n("1ef410853c9be3dadf79"),l=n("066c69df81c9f89684e9"),u=n("2c464b1ddda8bab00b4f"),s=n.n(u),d=n("5e87ed05c2869acf4295"),p=n("4f0dccf943f1a6635b4a"),f=n("811a4999285c4f950f0a"),A=n("fe25efaa8d6f45e3f5f9"),b=n("e3469c3600b7a8161b67"),E=n("8c36409fe79a053cf24a"),m=n("6c1890243ba884c62600"),C=(n("7a9868eb9514a58f6bea"),n("9c67d8cbe91d318cc8f0")),S=n.n(C);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var v=d.Form.Item,x=d.Input.TextArea,B=d.Select.Option,w=n("52edbe949b632fdddfaf"),U={labelCol:{span:4},wrapperCol:{span:20}},R=function(e){return e.join(" : ")},T=r.a.createElement(d.Input,null),L=r.a.createElement(d.Col,{span:12}),D=r.a.createElement(d.Input,{autoComplete:"off",placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0"}),I=r.a.createElement(B,{value:"jdbc"},"jdbc"),F=r.a.createElement(B,{value:"csv"},"csv\u6587\u4ef6"),j=r.a.createElement(B,{value:"excel"},"excel\u6587\u4ef6"),k=r.a.createElement(d.Input,{autoComplete:"off",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}),N=r.a.createElement(d.Input,{autoComplete:"off",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password"}),P=r.a.createElement(d.Input,{autoComplete:"off",placeholder:"\u8bf7\u8f93\u5165ip"}),M=r.a.createElement(d.Input,{autoComplete:"off",placeholder:"\u8bf7\u8f93\u5165\u7aef\u53e3"}),V=r.a.createElement(d.Input,{autoComplete:"off",placeholder:"\u8bf7\u8f93\u5165\u6570\u636e\u5e93\u540d\u79f0"}),z=d.Form.create()((function(e){var t=e.visible,n=e.source,o=e.datasourcesInfo,c=e.form,i=e.formLoading,l=(e.testLoading,e.onCheckUniqueName),u=e.onSave,s=e.onClose;if(!n)return null;var p=n.id,f=c.getFieldDecorator,A=y(Object(a.useState)([]),2),b=A[0],E=A[1];Object(a.useEffect)((function(){E(o)}),[o]),Object(a.useEffect)((function(){var e=["id","name","type","datasourceInfo","description","ip","port","dbName"];e=[].concat(e).concat(["config.username","config.password"]);var t=S()(n,e);console.log(t),c.setFieldsValue(t)}),[n,t]);var m=Object(a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,r=n.id,o=(n.projectId,JSON.parse(localStorage.getItem("loginUser"))),c=o.tenantId,i={id:r,name:t,tenantId:c};t||a(),l("source",i,(function(){a()}),(function(e){return a(e)}))}),[l,n]),C=(Object(a.useCallback)((function(e){var t=e[0],n=o.find((function(e){return e.name===t})).prefix,a=c.getFieldValue("config.url"),r=!1,i=a.replace(/^jdbc:([\w:]+):/,(function(e){return r=!!e,n}));r||(i=n+a),c.setFieldsValue({"config.url":i})}),[o]),Object(a.useCallback)((function(e){E("jdbc"!==e?[{name:"clickhouse",prefix:"jdbc:clickhouse:",versions:""}]:o)}),[o])),h=Object(a.useCallback)((function(){c.resetFields()}),[c]),B=Object(a.useMemo)((function(){return b.map((function(e){var t=e.name,n=e.versions;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({label:t,value:t},n&&{children:n.map((function(e){return{label:e,value:e}}))})}))}),[b]),z=r.a.createElement(d.Button,{key:"back",size:"small",onClick:s},"\u53d6\u6d88"),W=r.a.createElement(d.Button,{key:"submit",size:"small",type:"primary",loading:i,disabled:i,onClick:function(){c.validateFieldsAndScroll((function(e,t){if(!e){t.ip,t.port,t.dbName;var n=t.datasourceInfo[0];o.find((function(e){return e.name===n}));u(t)}}))}},"\u786e\u5b9a"),Y=Object(a.useMemo)((function(){return[z,W]}),[c,i,u,s]),q=c.getFieldValue("type");return r.a.createElement(d.Modal,{title:"".concat(p?"\u7f16\u8f91":"\u65b0\u589e\u6570\u636e\u6e90"),wrapClassName:"ant-modal-medium",maskClosable:!1,visible:t,footer:Y,onCancel:s,afterClose:h},r.a.createElement(d.Form,{labelAlign:"left"},r.a.createElement(d.Row,null,r.a.createElement(v,{className:w.hide},f("id")(T)),L),r.a.createElement(v,O({label:"\u6570\u636e\u6e90\u540d\u79f0"},U,{hasFeedback:!0}),f("name",{rules:[{required:!0,message:"\u6570\u636e\u6e90\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"},{min:1,max:20,message:"\u6570\u636e\u6e90\u540d\u79f0\u957f\u5ea6\u4e3a1-20\u4f4d"},{validator:m}]})(D)),r.a.createElement(v,O({label:"\u7c7b\u578b"},U),f("type",{initialValue:"jdbc"})(r.a.createElement(d.Select,{onChange:C},I,F,j))),r.a.createElement(v,O({label:"\u6570\u636e\u5e93"},U),f("datasourceInfo",{initialValue:[],rules:[{required:!0,message:"\u6570\u636e\u5e93\u4e0d\u80fd\u4e3a\u7a7a"}]})(r.a.createElement(d.Cascader,{options:B,displayRender:R}))),"jdbc"==q&&r.a.createElement(v,O({label:"\u7528\u6237\u540d"},U),f("config.username",{initialValue:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]})(k)),"jdbc"==q&&r.a.createElement(v,O({label:"\u5bc6\u7801"},U),f("config.password",{initialValue:"",rules:[{required:c.getFieldValue("datasourceInfo").length&&"mysql"==c.getFieldValue("datasourceInfo")[0],message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]})(N)),"jdbc"==q&&r.a.createElement(v,O({label:"ip"},U),f("ip",{initialValue:"",rules:[{required:!0,message:"ip\u4e0d\u80fd\u4e3a\u7a7a"}]})(P)),"jdbc"==q&&r.a.createElement(v,O({label:"\u7aef\u53e3"},U),f("port",{initialValue:"",rules:[{required:!0,message:"\u7aef\u53e3\u4e0d\u80fd\u4e3a\u7a7a"}]})(M)),"jdbc"==q&&r.a.createElement(v,O({label:"\u6570\u636e\u5e93\u540d\u79f0"},U),f("dbName",{initialValue:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u5e93\u540d\u79f0"}]})(V)),r.a.createElement(v,O({label:"\u63cf\u8ff0"},U),f("description",{initialValue:""})(r.a.createElement(x,{placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0",autosize:{minRows:3,maxRows:6}})))))}));n("8d7d503c74a9b905676b");function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var K=d.Form.Item,H=d.Radio.Group,J={labelCol:{span:6},wrapperCol:{span:16}},G=r.a.createElement(H,null,r.a.createElement(d.Radio,{value:0},"\u65b0\u589e"),r.a.createElement(d.Radio,{value:1},"\u66ff\u6362"),r.a.createElement(d.Radio,{value:2},"\u8ffd\u52a0"),r.a.createElement(d.Radio,{value:3},"\u8986\u76d6")),Z=r.a.createElement(d.Popover,{placement:"top",content:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"\u65b0\u589e\uff1a\u9996\u6b21\u4e0a\u4f20\u6587\u4ef6\u5230\u65b0\u8868"),r.a.createElement("p",null,"\u66ff\u6362\uff1a\u4fdd\u6301\u539f\u6709\u8868\u7ed3\u6784\u4e0d\u53d8\uff0c\u6e05\u7a7a\u539f\u6709\u8868\u6570\u636e\u540e\u4e0a\u4f20"),r.a.createElement("p",null,"\u8ffd\u52a0\uff1a\u4fdd\u6301\u539f\u6709\u8868\u7ed3\u6784\u4e0d\u53d8\uff0c\u4fdd\u6301\u539f\u6709\u8868\u6570\u636e\u5e76\u8ffd\u52a0"),r.a.createElement("p",null,"\u8986\u76d6\uff1a\u91cd\u5efa\u8868\u7ed3\u6784\u5e76\u66ff\u6362\u6570\u636e"))},r.a.createElement(d.Icon,{type:"question-circle-o"})),Q=r.a.createElement(d.Input,{placeholder:"\u8bf7\u8f93\u5165\u8868\u540d"}),X=d.Form.create()((function(e){var t=e.visible,n=e.sourceId,o=e.uploading,c=e.form,i=e.onValidate,l=e.onOk,u=e.onCancel,s=e.type,p=c.getFieldDecorator,f=Y(Object(a.useState)([]),2),A=f[0],b=f[1],E=Object(a.useCallback)((function(e){return b([e]),!1}),[]),m=Object(a.useCallback)((function(){A.length?c.validateFields((function(e,t){e||(t.file=A[0],t.sourceId=n,l(t,s))})):d.message.error("\u8bf7\u4e0a\u4f20 ".concat(s," \u6587\u4ef6\uff01"))}),[n,A,l]),C=Object(a.useCallback)((function(e,t,a){i({sourceId:n,tableName:t,mode:c.getFieldValue("mode")},a)}),[n,i]),S=Object(a.useCallback)((function(){c.resetFields(),b([])}),[]),O=Object(a.useCallback)((function(e){var t=e.file.name;e.fileList.length&&c.setFieldsValue({tableName:t.split(".")[0]})}),[A]);return r.a.createElement(d.Modal,{title:"\u4e0a\u4f20".concat(s,"\u6587\u4ef6"),visible:t,maskClosable:!1,afterClose:S,confirmLoading:o,onOk:m,onCancel:u,wrapClassName:"ant-modal-medium"},r.a.createElement(d.Form,{labelAlign:"left"},r.a.createElement(K,W({label:"\u5bfc\u5165\u65b9\u5f0f"},J),p("mode",{initialValue:0,rules:[{required:!0}]})(G),Z),r.a.createElement(K,W({label:"\u4e0a\u4f20"},J,{required:!0}),r.a.createElement(d.Upload,{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, .csv",multiple:!1,fileList:A,beforeUpload:E,onChange:O,onRemove:function(){b([]),c.setFieldsValue({tableName:""})}},r.a.createElement(d.Button,{style:{padding:"0 10px"}},r.a.createElement("i",{className:"iconfont",style:{lineHeight:"20px",verticalAlign:"bottom"}},"\ue6eb"),r.a.createElement("span",{style:{marginLeft:"5px"}},"\u70b9\u51fb\u4e0a\u4f20")))),r.a.createElement(K,W({label:"\u8868\u540d"},J),p("tableName",{rules:[{required:!0,message:"\u8868\u540d\u4e0d\u80fd\u4e3a\u7a7a"},{validator:C}],validateFirst:!0,validateTrigger:""})(Q))))}));n("f00b58fae2d9293553ca");function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ee=d.Form.Item,te={labelCol:{span:4},wrapperCol:{span:20}},ne=r.a.createElement(d.Input.Password,{autoComplete:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),ae=d.Form.create()((function(e){var t=e.form,n=e.source,o=e.visible,c=e.onConfirm,i=e.onCancel;if(!n)return null;var l=Object(a.useRef)(null);Object(a.useEffect)((function(){o&&l.current&&l.current.focus()}),[o]);var u=t.getFieldDecorator,s=Object(a.useCallback)((function(){t.validateFields((function(e,t){if(!e){var a=n.id,r=t.username,o=t.password;c({sourceId:a,username:r,password:o})}}))}),[n,c]),p=Object(a.useCallback)((function(){t.resetFields()}),[]);return r.a.createElement(d.Modal,{title:"\u91cd\u7f6e ".concat(n.name," \u94fe\u63a5"),wrapClassName:"ant-modal-medium",maskClosable:!1,visible:o,afterClose:p,onCancel:i,onOk:s},r.a.createElement(d.Form,{labelAlign:"left"},r.a.createElement(ee,$({label:"\u7528\u6237\u540d"},te),u("username",{rules:[{required:!0,message:"\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:""})(r.a.createElement(d.Input,{ref:l,autoFocus:!0,autoComplete:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",placeholder:""}))),r.a.createElement(ee,$({label:"\u5bc6\u7801"},te),u("password",{initialValue:"",rules:[{required:"mysql"==n.sourceType,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]})(ne))))})),re=n("3c6f77ec51e7bc1a2a2a"),oe=n("5a82715a0cf2e698e0a4"),ce=n("af2f40e3a3b030b93d43"),ie=function(e){return e.source},le=n("a428e0a8b0a825dd9cf6"),ue=n("a7d4b13eb80a5935b337"),se=n("9bfb13d08669aa63607d"),de=n("eaa16a8e12053f62f750"),pe=n("52edbe949b632fdddfaf"),fe=n.n(pe),Ae=n("c3cf7c87e079cf44ed6e"),be=n.n(Ae),Ee=n("2d9865fb4c7fad5f66ef");function me(e){return(me="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Be(e);if(t){var r=Be(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==me(t)&&"function"!==typeof t?xe(e):t}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue={id:0,name:"",type:"jdbc",description:"",projectId:0,datasourceInfo:[],config:{username:"",password:"",ip:"",port:"",dbName:""}},Re=r.a.createElement(d.Icon,{type:"info-circle"}),Te=r.a.createElement("i",{className:"iconfont"},"\ue6e8"),Le=r.a.createElement(c.a,{title:"\u6211\u65b0\u589e\u7684\u6570\u636e\u6e90"}),De=r.a.createElement("i",{className:"iconfont add-icon"},"\ue6e7"),Ie=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(i,e);var t,a,o,c=he(i);function i(){var e;ge(this,i);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return we(xe(e=c.call.apply(c,[this].concat(a))),"state",{screenWidth:document.documentElement.clientWidth,tempFilterSourceName:"",tableSorter:null,filterSourceName:"",filterDropdownVisible:!1,sourceModalVisible:!1,uploadModalVisible:!1,csvUploading:!1,resetModalVisible:!1,resetSource:null,editingSource:Oe({},Ue),csvSourceId:null,uploadType:"csv"}),we(xe(e),"basePagination",{defaultPageSize:10,showSizeChanger:!0,current:1,pageSize:10}),we(xe(e),"setScreenWidth",(function(){e.setState({screenWidth:document.documentElement.clientWidth})})),we(xe(e),"getFilterSources",(function(e,t){if(!Array.isArray(t)||!t.length)return[];var n=new RegExp(e,"gi");return t.filter((function(e){return e.name.match(n)||e.description.match(n)}))})),we(xe(e),"getTableColumns",(function(t){var n=t.sourcePermission,a=t.AdminButton,o=t.EditButton,c=e.state,i=(c.tempFilterSourceName,c.filterSourceName),l=(c.filterDropdownVisible,c.tableSorter,e.props.resetLoading),u=[{title:"\u6570\u636e\u6e90\u540d\u79f0",dataIndex:"name"},{title:"\u63cf\u8ff0",dataIndex:"description"},{title:"\u7c7b\u578b",dataIndex:"type",filters:[{text:"JDBC",value:"jdbc"},{text:"CSV",value:"csv"}],filterMultiple:!1,onFilter:function(e,t){return t.type===e},render:function(e,t){var n=t.type;return n&&n.toUpperCase()}},{title:"\u6570\u636e\u5e93",dataIndex:"sourceType"}];if(i){var s=new RegExp("(".concat(i,")"),"gi");u[0].render=function(e){return r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.replace(s,'<span class="'.concat(fe.a.highlight,'">$1</span>'))}})}}var p=r.a.createElement(d.Tooltip,{title:"\u5220\u9664"},r.a.createElement(a,{icon:"delete",shape:"circle",type:"ghost"}));return n&&u.push({title:"\u64cd\u4f5c",key:"action",width:180,render:function(t,n){return r.a.createElement("span",{className:"ant-table-action-column"},r.a.createElement(d.Tooltip,{title:"\u91cd\u7f6e\u8fde\u63a5"},r.a.createElement(o,{icon:"reload",shape:"circle",type:"ghost",disabled:l,onClick:e.openResetSource(n)})),r.a.createElement(d.Tooltip,{title:"\u4fee\u6539"},r.a.createElement(o,{icon:"edit",shape:"circle",type:"ghost",onClick:e.editSource(n.id)})),r.a.createElement(d.Popconfirm,{title:"\u786e\u5b9a\u5220\u9664\uff1f",placement:"bottom",onConfirm:e.deleteSource(n.id)},p),n&&"csv"===n.type?r.a.createElement(d.Tooltip,{title:"\u4e0a\u4f20"},r.a.createElement(o,{icon:"upload",shape:"circle",type:"ghost",onClick:e.showUploadModal(n.id)})):"")}}),u})),we(xe(e),"addSource",(function(){e.setState({editingSource:Oe(Oe({},Ue),{},{projectId:+e.props.match.params.projectId}),sourceModalVisible:!0})})),we(xe(e),"openResetSource",(function(t){return function(){e.setState({resetModalVisible:!0,resetSource:t})}})),we(xe(e),"resetConnection",(function(t){e.props.onResetSourceConnection(t,(function(){e.closeResetConnectionModal()}))})),we(xe(e),"closeResetConnectionModal",(function(){e.setState({resetModalVisible:!1})})),we(xe(e),"editSource",(function(t){return function(){e.props.onLoadSourceDetail(t,(function(t){e.setState({editingSource:Oe(Oe({},t),{},{datasourceInfo:e.getDatasourceInfo(t)}),sourceModalVisible:!0})}))}})),we(xe(e),"getDatasourceInfo",(function(t){var n=e.props.datasourcesInfo,a=t.config,r=a.url,o=a.version,c=r.match(/^jdbc\:(\w+)\:/);if(c){var i=n.find((function(e){return e.name===c[1]}));return i?i.versions.length?[i.name,o||"Default"]:[i.name]:[]}return[]})),we(xe(e),"deleteSource",(function(t){return function(){var n=e.props,a=n.onDeleteSource,r=n.user,o=n.onLoadSources;d.Modal.confirm({title:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",content:"\u5220\u9664\u540e\uff0c\u8be5\u6570\u636e\u65e0\u6cd5\u6062\u590d\u3002",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",icon:Re,onOk:function(){a(t,(function(){o(r.tenantId,e.basePagination.current,e.basePagination.pageSize)}))}})}})),we(xe(e),"showUploadModal",(function(t,n){return function(){e.setState({csvSourceId:t,uploadType:n,uploadModalVisible:!0})}})),we(xe(e),"saveSourceForm",(function(t){var n=e.props.match,a=t.datasourceInfo,r=t.config,o=Ce(t,["datasourceInfo","config"]),c="Default"===a[1]?"":a[1]||"",i=JSON.parse(localStorage.getItem("loginUser")).tenantId,l=Oe(Oe({},o),{},{config:Oe(Oe({},r),{},{ext:!!c,version:c}),sourceType:a[0]||"",projectId:Number(n.params.projectId),tenantId:i});console.log(l,"requestValue"),t.id?e.props.onEditSource(Oe({},l),(function(){e.closeSourceForm("success")})):e.props.onAddSource(Oe({},l),(function(){e.closeSourceForm("success")}))})),we(xe(e),"closeSourceForm",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({sourceModalVisible:!1},(function(){if("string"==typeof t){var n=e.props.user;d.message.success("\u64cd\u4f5c\u6210\u529f"),e.props.onLoadSources(n.tenantId,e.basePagination.current,e.basePagination.pageSize)}}))})),we(xe(e),"closeUploadModal",(function(){e.setState({uploadModalVisible:!1})})),we(xe(e),"uploadCsv",(function(t,n){e.setState({csvUploading:!0},(function(){e.props.onUploadCsvFile(t,n,(function(){e.closeUploadModal(),d.message.info("\u6587\u4ef6\u4e0a\u4f20\u6210\u529f\uff01"),e.setState({csvUploading:!1})}),(function(){e.setState({csvUploading:!1})}))}))})),we(xe(e),"renderSourceList",(function(){var t=e.props.sources,a=function(t){return r.a.createElement(d.Menu,null,r.a.createElement(d.Menu.Item,{key:"1",onClick:e.editSource(t.id)},"\u7f16\u8f91"),r.a.createElement(d.Menu.Item,{key:"2",onClick:e.deleteSource(t.id)},"\u5220\u9664"),"jdbc"!=t.type&&r.a.createElement(d.Menu.Item,{key:"3",onClick:e.showUploadModal(t.id,t.type)},"\u4e0a\u4f20"),"jdbc"==t.type&&r.a.createElement(d.Menu.Item,{key:"4",onClick:e.openResetSource(t)},"\u91cd\u7f6e\u94fe\u63a5"))};return t.map((function(e){var t,o,c,i=e.id,l=e.name,u=(e.description,e.type),s=e.sourceType,p=e.createTime,f=e.updateTime,A=void 0===f?"":f;return r.a.createElement(d.Card,{className:be.a["content-card"],key:i,"data-v-source":!0},r.a.createElement("p",{className:be.a["inner-img"]},r.a.createElement("img",{src:n("5451ed5fdbc1d2122a30")})),r.a.createElement("div",{className:be.a["inner-name"]},r.a.createElement(oe.b,{text:l})),r.a.createElement("p",{className:be.a["inner-type"]},u,"/",s),r.a.createElement("p",{className:be.a["inner-time"]},r.a.createElement(d.Tooltip,{title:p},"\u521b\u5efa\u65f6\u95f4"),A&&r.a.createElement(d.Tooltip,{title:A}," | ",(t=A,o=(new Date).getTime(),c=new Date(new Date(t.replace(/-/g,"/"))).getTime(),Math.floor((o-c)/864e5)>1?"\u66f4\u65b0\u65f6\u95f4":"\u521a\u521a\u66f4\u65b0"))),r.a.createElement("p",{className:be.a["inner-footer"]},r.a.createElement(d.Dropdown,{overlay:a(e),trigger:["click"],overlayClassName:"inner-dropdown",placement:"bottomRight"},Te)))}))})),we(xe(e),"tableChange",(function(t,n,a){e.setState({tableSorter:a})})),we(xe(e),"filterSourceNameChange",(function(t){e.setState({tempFilterSourceName:t.target.value,filterSourceName:""})})),we(xe(e),"searchSource",(function(t){e.setState({filterSourceName:t,filterDropdownVisible:!1})})),we(xe(e),"changePage",(function(t,n){e.basePagination.current=t,e.basePagination.pageSize=n,e.props.onLoadSources(e.props.user.tenantId,e.basePagination.current,e.basePagination.pageSize)})),e}return t=i,(a=[{key:"componentWillMount",value:function(){var e=this.props,t=e.onLoadSources,n=e.onLoadDatasourcesInfo;e.match,t(e.user.tenantId,this.basePagination.current,this.basePagination.pageSize),n(),window.addEventListener("resize",this.setScreenWidth,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setScreenWidth,!1)}},{key:"render",value:function(){var e=this.state,t=e.filterSourceName,n=e.sourceModalVisible,a=e.uploadModalVisible,o=e.resetModalVisible,c=e.resetSource,l=e.csvUploading,u=e.csvSourceId,s=e.screenWidth,p=e.editingSource,f=e.uploadType,A=this.props,b=A.sources,E=(A.listLoading,A.formLoading),C=A.testLoading,S=A.currentProject,O=A.datasourcesInfo,g=A.onValidateCsvTableName,_=A.onCheckUniqueName,y=i.getSourcePermission(S),h=y.sourcePermission,v=y.AdminButton,x=y.EditButton,B=(this.getTableColumns({sourcePermission:h,AdminButton:v,EditButton:x}),Oe(Oe({},this.basePagination),{},{simple:s<=768}),(null===b||void 0===b?void 0:b.length)&&Object(Ee.usePagination)({total:this.props.sourcesTotal,changePage:this.changePage})||"");return this.getFilterSources(t,b),r.a.createElement("div",{className:be.a.container},Le,r.a.createElement(m.b,null,r.a.createElement("div",{style:{fontSize:"18px"}},"\u6211\u65b0\u589e\u7684\u6570\u636e\u6e90")),r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(d.Row,null,r.a.createElement(d.Col,{span:24,className:be.a["flex-wrapper"]},1==this.basePagination.current&&r.a.createElement("div",{className:be.a.createCrad,onClick:this.addSource},r.a.createElement("div",{style:{transform:"translateY(-50%)",marginTop:"92px"}},r.a.createElement("div",{className:be.a["inner-text-add"]},De),r.a.createElement("div",{className:be.a["inner-text"]},"\u65b0\u589e\u6570\u636e\u6e90")))||"",b&&this.renderSourceList()),r.a.createElement(d.Col,{span:24,style:{marginTop:"20px"}},B)),r.a.createElement(z,{source:p,datasourcesInfo:O,visible:n,formLoading:E,testLoading:C,onSave:this.saveSourceForm,onClose:this.closeSourceForm,onCheckUniqueName:_}),r.a.createElement(X,{visible:a,type:f,uploading:l,sourceId:u,onValidate:g,onCancel:this.closeUploadModal,onOk:this.uploadCsv}),r.a.createElement(ae,{visible:o,source:c,onConfirm:this.resetConnection,onCancel:this.closeResetConnectionModal})))))}}])&&_e(t.prototype,a),o&&_e(t,o),i}(r.a.PureComponent);we(Ie,"getSourcePermission",s()((function(e){return{sourcePermission:Object(de.b)(e,"sourcePermission"),AdminButton:Object(se.a)(e,"source",!0)(d.Button),EditButton:Object(se.a)(e,"source",!1)(d.Button)}})));var Fe=Object(l.b)({sources:Object(l.a)(ie,(function(e){return e.sources})),sourcesTotal:Object(l.a)(ie,(function(e){return e.sourcesTotal})),listLoading:Object(l.a)(ie,(function(e){return e.listLoading})),formLoading:Object(l.a)(ie,(function(e){return e.formLoading})),testLoading:Object(l.a)(ie,(function(e){return e.testLoading})),resetLoading:Object(l.a)(ie,(function(e){return e.resetLoading})),currentProject:Object(ue.b)(),datasourcesInfo:Object(l.a)(ie,(function(e){return e.datasourcesInfo})),user:Object(re.f)()}),je=Object(i.connect)(Fe,(function(e){return{onLoadSources:function(t,n,a){return e(ce.a.loadSources(t,n,a))},onLoadSourceDetail:function(t,n){return e(ce.a.loadSourceDetail(t,n))},onAddSource:function(t,n){return e(ce.a.addSource(t,n))},onDeleteSource:function(t,n){return e(ce.a.deleteSource(t,n))},onEditSource:function(t,n){return e(ce.a.editSource(t,n))},onTestSourceConnection:function(t){return e(ce.a.testSourceConnection(t))},onResetSourceConnection:function(t,n){return e(ce.a.resetSourceConnection(t,n))},onValidateCsvTableName:function(t,n){return e(ce.a.validateCsvTableName(t,n))},onUploadCsvFile:function(t,n,a,r){return e(ce.a.uploadCsvFile(t,n,a,r))},onCheckUniqueName:function(t,n,a,r){return e(Object(le.g)(t,n,a,r))},onLoadDatasourcesInfo:function(){return e(ce.a.loadDatasourcesInfo())}}})),ke=Object(f.a)({key:"source",reducer:b.a}),Ne=Object(A.a)({key:"source",saga:E.a});t.default=Object(p.compose)(ke,Ne,je)(Ie)},"8c36409fe79a053cf24a":function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));n("e03a1fbff99f345f4be6"),n("71245cb32aedd133cfca"),n("90b2765846ef7f5295d8"),n("ac96dedceb53987893c2");var a=n("612ec9d7faa9910b9d79"),r=n("ae06f1853dfdea72b9bb"),o=n("af2f40e3a3b030b93d43"),c=n("95066b9b78a83cfbe91a"),i=n("9adba983ceae6f089ff0"),l=n("55c69f0ea731e712b8f3"),u=n("5e87ed05c2869acf4295");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=regeneratorRuntime.mark(U),E=regeneratorRuntime.mark(R),m=regeneratorRuntime.mark(T),C=regeneratorRuntime.mark(L),S=regeneratorRuntime.mark(D),O=regeneratorRuntime.mark(I),g=regeneratorRuntime.mark(F),_=regeneratorRuntime.mark(j),y=regeneratorRuntime.mark(k),h=regeneratorRuntime.mark(N),v=regeneratorRuntime.mark(P),x=regeneratorRuntime.mark(M),B=regeneratorRuntime.mark(V),w=regeneratorRuntime.mark(z);function U(e){var t,n,u,s,d,p,f;return regeneratorRuntime.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(e.type===r.a.LOAD_SOURCES){A.next=2;break}return A.abrupt("return");case 2:return t=e.payload,n=t.tenantId,u=t.page,s=t.pageSize,A.prev=4,A.next=7,Object(a.call)(c.a,{method:"post",url:i.a.sourceList,data:{tenantId:n,page:u,pageSize:s}});case 7:return d=A.sent,p=d.payload.list,f={total:d.payload.total||0,sources:p},A.next=12,Object(a.put)(o.a.sourcesLoaded(f));case 12:A.next=19;break;case 14:return A.prev=14,A.t0=A.catch(4),A.next=18,Object(a.put)(o.a.loadSourcesFail());case 18:Object(l.a)(A.t0);case 19:case"end":return A.stop()}}),b,null,[[4,14]])}function R(e){var t,n;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(e.type===r.a.ADD_SOURCE){u.next=2;break}return u.abrupt("return");case 2:return t=e.payload,u.prev=3,u.next=6,Object(a.call)(c.a,{method:"post",url:i.a.source,data:t.source});case 6:return n=u.sent,t.resolve(),u.next=10,Object(a.put)(o.a.sourceAdded(n.payload));case 10:u.next=17;break;case 12:return u.prev=12,u.t0=u.catch(3),u.next=16,Object(a.put)(o.a.addSourceFail());case 16:Object(l.a)(u.t0);case 17:case"end":return u.stop()}}),E,null,[[3,12]])}function T(e){var t,n,u,s,d,p;return regeneratorRuntime.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(e.type===r.a.LOAD_SOURCE_DETAIL){A.next=2;break}return A.abrupt("return");case 2:return t=e.payload,n=t.sourceId,u=t.resolve,A.prev=3,A.next=6,Object(a.call)(c.a,"".concat(i.a.source,"/").concat(n));case 6:return s=A.sent,d=s.payload,p=f(f({},d),{},{config:JSON.parse(d.config)}),A.next=11,Object(a.put)(o.a.sourceDetailLoaded(p));case 11:u&&u(p),A.next=19;break;case 14:return A.prev=14,A.t0=A.catch(3),A.next=18,Object(a.put)(o.a.loadSourceDetailFail());case 18:Object(l.a)(A.t0);case 19:case"end":return A.stop()}}),m,null,[[3,14]])}function L(e){var t,n,u;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.type===r.a.DELETE_SOURCE){s.next=2;break}return s.abrupt("return");case 2:return t=e.payload,n=t.resolve,s.prev=4,s.next=7,Object(a.call)(c.a,{method:"delete",url:"".concat(i.a.source,"/").concat(t.id)});case 7:return u=s.sent,u.header.code,s.next=11,Object(a.put)(o.a.sourceDeleted(t.id));case 11:n(),s.next=19;break;case 14:return s.prev=14,s.t0=s.catch(4),s.next=18,Object(a.put)(o.a.deleteSourceFail());case 18:Object(l.a)(s.t0);case 19:case"end":return s.stop()}}),C,null,[[4,14]])}function D(e){var t,n,u;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.type===r.a.EDIT_SOURCE){s.next=2;break}return s.abrupt("return");case 2:return t=e.payload,n=t.source,u=t.resolve,s.prev=3,s.next=6,Object(a.call)(c.a,{method:"put",url:"".concat(i.a.source,"/").concat(n.id),data:n});case 6:return s.next=8,Object(a.put)(o.a.sourceEdited());case 8:u(),s.next=16;break;case 11:return s.prev=11,s.t0=s.catch(3),s.next=15,Object(a.put)(o.a.editSourceFail());case 15:Object(l.a)(s.t0);case 16:case"end":return s.stop()}}),S,null,[[3,11]])}function I(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.type===r.a.TEST_SOURCE_CONNECTION){n.next=2;break}return n.abrupt("return");case 2:return t=e.payload,n.prev=3,n.next=6,Object(a.call)(c.a,{method:"post",url:"".concat(i.a.source,"/test"),data:t.testSource});case 6:return n.sent,n.next=9,Object(a.put)(o.a.sourceConnected());case 9:u.message.success("\u6d4b\u8bd5\u6210\u529f"),n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(3),n.next=16,Object(a.put)(o.a.testSourceConnectionFail());case 16:Object(l.a)(n.t0);case 17:case"end":return n.stop()}}),O,null,[[3,12]])}function F(e){var t,n,s,d,p,f;return regeneratorRuntime.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(e.type===r.a.RESET_SOURCE_CONNECTION){A.next=2;break}return A.abrupt("return");case 2:return t=e.payload,n=t.properties,s=t.resolve,d=n.sourceId,p=n.username,f=n.password,A.prev=4,A.next=7,Object(a.call)(c.a,{method:"post",url:"".concat(i.a.source,"/reconnect/").concat(d),data:{dbUser:p,dbPassword:f}});case 7:return A.next=9,Object(a.put)(o.a.sourceReset());case 9:u.message.success("\u94fe\u63a5\u91cd\u7f6e\u6210\u529f"),s(),A.next=18;break;case 13:return A.prev=13,A.t0=A.catch(4),A.next=17,Object(a.put)(o.a.resetSourceConnectionFail());case 17:Object(l.a)(A.t0);case 18:case"end":return A.stop()}}),g,null,[[4,13]])}function j(e){var t,n,o,l,u;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.type===r.a.VALIDATE_CSV_TABLE_NAME){s.next=2;break}return s.abrupt("return");case 2:return t=e.payload.callback,n=e.payload.csvMeta,o=n.sourceId,l=n.mode,u=n.tableName,s.prev=4,s.next=7,Object(a.call)(c.a,{url:"".concat(i.a.source,"/").concat(o,"/csvmeta"),method:"post",data:{mode:l,tableName:u}});case 7:t(),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(4),t(s.t0.response.data.header.msg);case 13:case"end":return s.stop()}}),_,null,[[4,10]])}function k(e){var t,n,o,u,d,p;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(e.type===r.a.UPLOAD_CSV_FILE){f.next=2;break}return f.abrupt("return");case 2:return t=e.payload,n=t.csvMeta,o=t.resolve,u=t.reject,d=t.type,f.prev=3,p=new FormData,Object.entries(n).forEach((function(e){var t=s(e,2),n=t[0],a=t[1];(a||0===a)&&p.append(n,a)})),f.next=8,Object(a.call)(c.a,"".concat(i.a.source,"/").concat(n.sourceId,"/upload").concat(d),{method:"POST",data:p});case 8:o(),f.next=15;break;case 11:f.prev=11,f.t0=f.catch(3),Object(l.a)(f.t0),u();case 15:case"end":return f.stop()}}),y,null,[[3,11]])}function N(e){var t,n,u;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.type===r.a.LOAD_SOURCE_DATABASES){s.next=2;break}return s.abrupt("return");case 2:return t=e.payload.sourceId,s.prev=3,s.next=6,Object(a.call)(c.a,"".concat(i.a.source,"/").concat(t,"/databases"));case 6:return n=s.sent,u=n.payload,s.next=10,Object(a.put)(o.a.sourceDatabasesLoaded(u));case 10:s.next=17;break;case 12:return s.prev=12,s.t0=s.catch(3),s.next=16,Object(a.put)(o.a.loadSourceDatabasesFail(s.t0));case 16:Object(l.a)(s.t0);case 17:case"end":return s.stop()}}),h,null,[[3,12]])}function P(e){var t,n,u,s,d;return regeneratorRuntime.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(e.type===r.a.LOAD_SOURCE_DATABASE_TABLES){p.next=2;break}return p.abrupt("return");case 2:return t=e.payload,n=t.databaseName,u=t.sourceId,p.prev=3,p.next=6,Object(a.call)(c.a,"".concat(i.a.source,"/").concat(u,"/tables?dbName=").concat(n));case 6:return s=p.sent,d=s.payload,p.next=10,Object(a.put)(o.a.databaseTablesLoaded(d));case 10:p.next=17;break;case 12:return p.prev=12,p.t0=p.catch(3),p.next=16,Object(a.put)(o.a.loadDatabaseTablesFail(p.t0));case 16:Object(l.a)(p.t0);case 17:case"end":return p.stop()}}),v,null,[[3,12]])}function M(e){var t,n,u,s,d,p,A;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:if(e.type===r.a.LOAD_SOURCE_TABLE_COLUMNS){b.next=2;break}return b.abrupt("return");case 2:return t=e.payload,n=t.sourceId,u=t.databaseName,s=t.tableName,d=t.resolve,b.prev=3,b.next=6,Object(a.call)(c.a,"".concat(i.a.source,"/").concat(n,"/table/columns?dbName=").concat(u,"&tableName=").concat(s));case 6:return p=b.sent,A=f(f({},p.payload),{},{dbName:u}),b.next=10,Object(a.put)(o.a.tableColumnsLoaded(u,A));case 10:d&&d(A),b.next=18;break;case 13:return b.prev=13,b.t0=b.catch(3),b.next=17,Object(a.put)(o.a.loadTableColumnsFail(b.t0));case 17:Object(l.a)(b.t0);case 18:case"end":return b.stop()}}),x,null,[[3,13]])}function V(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.type===r.a.LOAD_DATASOURCES_INFO){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,Object(a.call)(c.a,"".concat(i.a.source,"/jdbc/datasources"));case 5:return t=n.sent,n.next=8,Object(a.put)(o.a.datasourcesInfoLoaded(t.payload));case 8:n.next=15;break;case 10:return n.prev=10,n.t0=n.catch(2),n.next=14,Object(a.put)(o.a.loadDatasourcesInfoFail(n.t0));case 14:Object(l.a)(n.t0);case 15:case"end":return n.stop()}}),B,null,[[2,10]])}function z(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.all)([Object(a.takeLatest)(r.a.LOAD_SOURCES,U),Object(a.takeEvery)(r.a.LOAD_SOURCE_DETAIL,T),Object(a.takeEvery)(r.a.ADD_SOURCE,R),Object(a.takeEvery)(r.a.DELETE_SOURCE,L),Object(a.takeEvery)(r.a.EDIT_SOURCE,D),Object(a.takeEvery)(r.a.TEST_SOURCE_CONNECTION,I),Object(a.takeEvery)(r.a.RESET_SOURCE_CONNECTION,F),Object(a.takeLatest)(r.a.VALIDATE_CSV_TABLE_NAME,j),Object(a.takeEvery)(r.a.UPLOAD_CSV_FILE,k),Object(a.takeEvery)(r.a.LOAD_SOURCE_DATABASES,N),Object(a.takeEvery)(r.a.LOAD_SOURCE_DATABASE_TABLES,P),Object(a.takeEvery)(r.a.LOAD_SOURCE_TABLE_COLUMNS,M),Object(a.takeLatest)(r.a.LOAD_DATASOURCES_INFO,V)]);case 2:case"end":return e.stop()}}),w)}},"935a3238febe5e665ec6":function(e,t,n){var a=n("acbb859fb0d01ae935cf"),r=n("691aca4c8beaad6c3aba"),o=n("5b0894b89ef20053f7a2");e.exports=function(e,t,n){for(var c=-1,i=t.length,l={};++c<i;){var u=t[c],s=a(e,u);n(s,u)&&r(l,o(u,e),s)}return l}},"9c67d8cbe91d318cc8f0":function(e,t,n){var a=n("6992aba3219428cb1fb9"),r=n("b69b49a8091a9017b17b")((function(e,t){return null==e?{}:a(e,t)}));e.exports=r},ae06f1853dfdea72b9bb:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,r=n("fdb445ec61a8d515506e");!function(e){e.LOAD_SOURCES="davinci/Source/LOAD_SOURCES",e.LOAD_SOURCES_SUCCESS="davinci/Source/LOAD_SOURCES_SUCCESS",e.LOAD_SOURCES_FAILURE="davinci/Source/LOAD_SOURCES_FAILURE",e.LOAD_SOURCE_DETAIL="davinci/Source/LOAD_SOURCE_DETAIL",e.LOAD_SOURCE_DETAIL_SUCCESS="davinci/Source/LOAD_SOURCE_DETAIL_SUCCESS",e.LOAD_SOURCE_DETAIL_FAIL="davinci/Source/LOAD_SOURCE_DETAIL_FAIL",e.ADD_SOURCE="davinci/Source/ADD_SOURCE",e.ADD_SOURCE_SUCCESS="davinci/Source/ADD_SOURCE_SUCCESS",e.ADD_SOURCE_FAILURE="davinci/Source/ADD_SOURCE_FAILURE",e.DELETE_SOURCE="davinci/Source/DELETE_SOURCE",e.DELETE_SOURCE_SUCCESS="davinci/Source/DELETE_SOURCE_SUCCESS",e.DELETE_SOURCE_FAILURE="davinci/Source/DELETE_SOURCE_FAILURE",e.EDIT_SOURCE="davinci/Source/EDIT_SOURCE",e.EDIT_SOURCE_SUCCESS="davinci/Source/EDIT_SOURCE_SUCCESS",e.EDIT_SOURCE_FAILURE="davinci/Source/EDIT_SOURCE_FAILURE",e.TEST_SOURCE_CONNECTION="davinci/Source/TEST_SOURCE_CONNECTION",e.TEST_SOURCE_CONNECTION_SUCCESS="davinci/Source/TEST_SOURCE_CONNECTION_SUCCESS",e.TEST_SOURCE_CONNECTION_FAILURE="davinci/Source/TEST_SOURCE_CONNECTION_FAILURE",e.RESET_SOURCE_CONNECTION="davinci/Source/RESET_SOURCE_CONNECTION",e.RESET_SOURCE_CONNECTION_SUCCESS="davinci/Source/RESET_SOURCE_CONNECTION_SUCCESS",e.RESET_SOURCE_CONNECTION_FAILURE="davinci/Source/RESET_SOURCE_CONNECTION_FAILURE",e.VALIDATE_CSV_TABLE_NAME="davinci/Source/VALIDATE_CSV_TABLE_NAME",e.UPLOAD_CSV_FILE="davinci/SourceUPLOAD_CSV_FILE",e.LOAD_SOURCE_DATABASES="davinci/Source/LOAD_SOURCE_DATABASES",e.LOAD_SOURCE_DATABASES_SUCCESS="davinci/Source/LOAD_SOURCE_DATABASES_SUCCESS",e.LOAD_SOURCE_DATABASES_FAILURE="davinci/Source/LOAD_SOURCE_DATABASES_FAILURE",e.LOAD_SOURCE_DATABASE_TABLES="davinci/Source/LOAD_SOURCE_DATABASE_TABLES",e.LOAD_SOURCE_DATABASE_TABLES_SUCCESS="davinci/Source/LOAD_SOURCE_DATABASE_TABLES_SUCCESS",e.LOAD_SOURCE_DATABASE_TABLES_FAILURE="davinci/Source/LOAD_SOURCE_DATABASE_TABLES_FAILURE",e.LOAD_SOURCE_TABLE_COLUMNS="davinci/Source/LOAD_SOURCE_TABLE_COLUMNS",e.LOAD_SOURCE_TABLE_COLUMNS_SUCCESS="davinci/Source/LOAD_SOURCE_TABLE_COLUMNS_SUCCESS",e.LOAD_SOURCE_TABLE_COLUMNS_FAILURE="davinci/Source/LOAD_SOURCE_TABLE_COLUMNS_FAILURE",e.LOAD_DATASOURCES_INFO="davinci/Source/LOAD_DATASOURCES_INFO",e.LOAD_DATASOURCES_INFO_SUCCESS="davinci/Source/LOAD_DATASOURCES_INFO_SUCCESS",e.LOAD_DATASOURCES_INFO_FAILURE="davinci/Source/LOAD_DATASOURCES_INFO_FAILURE"}(a||(a={}));var o=Object(r.a)(a)},af2f40e3a3b030b93d43:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("ae06f1853dfdea72b9bb"),r=n("fdb445ec61a8d515506e"),o={loadSources:function(e,t,n){return{type:a.a.LOAD_SOURCES,payload:{tenantId:e,page:t,pageSize:n}}},sourcesLoaded:function(e){return{type:a.a.LOAD_SOURCES_SUCCESS,payload:{sourceResponse:e}}},loadSourcesFail:function(){return{type:a.a.LOAD_SOURCES_FAILURE}},loadSourceDetail:function(e,t){return{type:a.a.LOAD_SOURCE_DETAIL,payload:{sourceId:e,resolve:t}}},sourceDetailLoaded:function(e){return{type:a.a.LOAD_SOURCE_DETAIL_SUCCESS,payload:{source:e}}},loadSourceDetailFail:function(){return{type:a.a.LOAD_SOURCE_DETAIL_FAIL,payload:{}}},addSource:function(e,t){return{type:a.a.ADD_SOURCE,payload:{source:e,resolve:t}}},sourceAdded:function(e){return{type:a.a.ADD_SOURCE_SUCCESS,payload:{result:e}}},addSourceFail:function(){return{type:a.a.ADD_SOURCE_FAILURE,payload:{}}},deleteSource:function(e,t){return{type:a.a.DELETE_SOURCE,payload:{id:e,resolve:t}}},sourceDeleted:function(e){return{type:a.a.DELETE_SOURCE_SUCCESS,payload:{id:e}}},deleteSourceFail:function(){return{type:a.a.DELETE_SOURCE_FAILURE,payload:{}}},editSource:function(e,t){return{type:a.a.EDIT_SOURCE,payload:{source:e,resolve:t}}},sourceEdited:function(){return{type:a.a.EDIT_SOURCE_SUCCESS}},editSourceFail:function(){return{type:a.a.EDIT_SOURCE_FAILURE,payload:{}}},testSourceConnection:function(e){return{type:a.a.TEST_SOURCE_CONNECTION,payload:{testSource:e}}},sourceConnected:function(){return{type:a.a.TEST_SOURCE_CONNECTION_SUCCESS,payload:{}}},testSourceConnectionFail:function(){return{type:a.a.TEST_SOURCE_CONNECTION_FAILURE,payload:{}}},resetSourceConnection:function(e,t){return{type:a.a.RESET_SOURCE_CONNECTION,payload:{properties:e,resolve:t}}},sourceReset:function(){return{type:a.a.RESET_SOURCE_CONNECTION_SUCCESS,payload:{}}},resetSourceConnectionFail:function(){return{type:a.a.RESET_SOURCE_CONNECTION_FAILURE,payload:{}}},validateCsvTableName:function(e,t){return{type:a.a.VALIDATE_CSV_TABLE_NAME,payload:{csvMeta:e,callback:t}}},uploadCsvFile:function(e,t,n,r){return{type:a.a.UPLOAD_CSV_FILE,payload:{csvMeta:e,type:t,resolve:n,reject:r}}},loadSourceDatabases:function(e){return{type:a.a.LOAD_SOURCE_DATABASES,payload:{sourceId:e}}},sourceDatabasesLoaded:function(e){return{type:a.a.LOAD_SOURCE_DATABASES_SUCCESS,payload:{sourceDatabases:e}}},loadSourceDatabasesFail:function(e){return{type:a.a.LOAD_SOURCE_DATABASES_FAILURE,payload:{err:e}}},loadDatabaseTables:function(e,t,n){return{type:a.a.LOAD_SOURCE_DATABASE_TABLES,payload:{sourceId:e,databaseName:t,resolve:n}}},databaseTablesLoaded:function(e){return{type:a.a.LOAD_SOURCE_DATABASE_TABLES_SUCCESS,payload:{databaseTables:e}}},loadDatabaseTablesFail:function(e){return{type:a.a.LOAD_SOURCE_DATABASE_TABLES_FAILURE,payload:{err:e}}},loadTableColumns:function(e,t,n,r){return{type:a.a.LOAD_SOURCE_TABLE_COLUMNS,payload:{sourceId:e,databaseName:t,tableName:n,resolve:r}}},tableColumnsLoaded:function(e,t){return{type:a.a.LOAD_SOURCE_TABLE_COLUMNS_SUCCESS,payload:{databaseName:e,tableColumns:t}}},loadTableColumnsFail:function(e){return{type:a.a.LOAD_SOURCE_TABLE_COLUMNS_FAILURE,payload:{err:e}}},loadDatasourcesInfo:function(){return{type:a.a.LOAD_DATASOURCES_INFO}},datasourcesInfoLoaded:function(e){return{type:a.a.LOAD_DATASOURCES_INFO_SUCCESS,payload:{info:e}}},loadDatasourcesInfoFail:function(e){return{type:a.a.LOAD_DATASOURCES_INFO_FAILURE,payload:{err:e}}}};Object(r.b)(o)},c3cf7c87e079cf44ed6e:function(e,t,n){var a=n("d4cbf7bdf484a77a30bc");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("81325eb2f60ee91338da")(a,r);a.locals&&(e.exports=a.locals)},d4cbf7bdf484a77a30bc:function(e,t,n){(t=e.exports=n("0ec10d64fe1c5691a934")(!0)).push([e.i,'/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors,string-no-newline */\n/*** z-index ***/\n/*** global mixins ***/\n.bXrEXctkPn4FVRM6g3Ot2 {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.QpUFaQ1oo3Z_RiQQrQM9U {\n  overflow: -moz-scrollbars-none !important;\n  -ms-overflow-style: none !important;\n}\n.QpUFaQ1oo3Z_RiQQrQM9U::-webkit-scrollbar {\n  display: none;\n}\n._6l8wnmHYxTHD0e5D0_tVn .ant-select,\n._6l8wnmHYxTHD0e5D0_tVn .ant-input-number {\n  width: 100%;\n}\n._6l8wnmHYxTHD0e5D0_tVn .ant-input-group {\n  line-height: inherit;\n}\n._6l8wnmHYxTHD0e5D0_tVn .ant-input-group.ant-input-group-compact > * {\n  vertical-align: baseline;\n}\n._6l8wnmHYxTHD0e5D0_tVn .ant-calendar-picker {\n  width: 100% !important;\n  min-width: auto !important;\n}\n._6l8wnmHYxTHD0e5D0_tVn._1zIutEzPekwi0AXiSMvxXF .ant-form-item-control {\n  line-height: 32px;\n}\n.z0KoIAmJrefsimkKf6NgO {\n  padding: 10px;\n}\n._1Xx6gNGT_Q5bE7Zl7KFDZq {\n  display: none !important;\n}\n._1d6sTu-Fa0Ww922z03SJFG {\n  padding: 0 5%;\n  margin: 10px 0 30px;\n}\n._37QoBezcerwItj9bxIrNGG {\n  font-family: PingFangSC-Medium;\n  font-size: 18px;\n  color: rgba(4, 12, 44, 0.85);\n  letter-spacing: 0;\n  margin-bottom: 20px;\n  font-weight: 500;\n}\n._5xJy_wf5ETKw7ymd9A24g {\n  width: calc((100% - 30px) / 4);\n  height: 183px;\n  background: #FFFFFF;\n  -webkit-box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.07);\n          box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.07);\n  margin-left: 10px;\n}\n._5xJy_wf5ETKw7ymd9A24g:nth-child(n+5) {\n  margin-left: 0;\n  margin-right: 10px;\n  margin-top: 10px;\n}\n._5xJy_wf5ETKw7ymd9A24g:nth-child(4n) {\n  margin-right: 0;\n}\n._5xJy_wf5ETKw7ymd9A24g:first-child {\n  margin-left: 0;\n}\n._5xJy_wf5ETKw7ymd9A24g .akUYIY2q585VzrTJi95Hv {\n  line-height: 20px;\n}\n._5xJy_wf5ETKw7ymd9A24g .akUYIY2q585VzrTJi95Hv img {\n  width: 20px;\n  height: 19px;\n}\n._5xJy_wf5ETKw7ymd9A24g ._3AcBnqVrOuwq08Y36vr8pm {\n  font-family: PingFangSC-Medium;\n  font-size: 14px;\n  color: #040C2C;\n  letter-spacing: 0;\n  margin-top: 10px;\n  line-height: 22px;\n}\n._5xJy_wf5ETKw7ymd9A24g ._3hX53Fpg6xeWaKeUO3D0oU {\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #5C6176;\n  letter-spacing: 0;\n  line-height: 18px;\n  margin-top: 8px;\n}\n._5xJy_wf5ETKw7ymd9A24g ._2FBaKjoA9fBk0nUEXhEZsK {\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #C0C2CA;\n  letter-spacing: 0;\n  line-height: 18px;\n  margin-top: 24px;\n}\n._5xJy_wf5ETKw7ymd9A24g .VMPkDQ0iF17q5BbVyP0dC {\n  height: 30px;\n  border-top: 1px solid #E5E8EA;\n  margin: 8px -10px 0;\n  line-height: 30px;\n  text-align: right;\n  padding-right: 10px;\n}\n._3Nqkv2ZIInauTCFVpLxMok {\n  width: calc((100% - 30px) / 4);\n  height: 183px;\n  cursor: pointer;\n  background: #FFFFFF;\n  border: 1px dashed #CDCED5;\n  -webkit-box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.07);\n          box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.07);\n  border-radius: 2px;\n}\n._3Nqkv2ZIInauTCFVpLxMok ._2fnFPNMidMreccRW5MWtkK {\n  text-align: center;\n  margin-bottom: 10px;\n  font-size: 16px;\n  height: 30px;\n  line-height: 30px;\n}\n._3Nqkv2ZIInauTCFVpLxMok .jfRKUbF61Z-h71UwrizE2 {\n  text-align: center;\n}\n._3HUG5TWRHkG_g0w93cyqCb {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: row wrap;\n          flex-flow: row wrap;\n}\n[data-v-source] .ant-card-body {\n  padding: 20px 10px !important;\n}\n[data-v-source] .inner-dropdown {\n  width: 98px;\n  padding-left: 9px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n[data-v-source] .iconfont {\n  font-family: "iconfont" !important;\n  font-size: 16px;\n  font-style: normal;\n  cursor: pointer;\n  -webkit-font-smoothing: antialiased;\n  -webkit-text-stroke-width: 0.2px;\n  -moz-osx-font-smoothing: grayscale;\n}\n[data-v-source] .add-icon {\n  font-size: 30px;\n}\n',"",{version:3,sources:["Source.less"],names:[],mappings:"AAAA,4FAA4F;AAC5F,6CAA6C;AAC7C,sBAAsB;AACtB,6FAA6F;AAC7F,gBAAgB;AAChB,sBAAsB;AACtB;EACE,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;AAClB;AACA;EACE,yCAAyC;EACzC,mCAAmC;AACrC;AACA;EACE,aAAa;AACf;AACA;;EAEE,WAAW;AACb;AACA;EACE,oBAAoB;AACtB;AACA;EACE,wBAAwB;AAC1B;AACA;EACE,sBAAsB;EACtB,0BAA0B;AAC5B;AACA;EACE,iBAAiB;AACnB;AACA;EACE,aAAa;AACf;AACA;EACE,wBAAwB;AAC1B;AACA;EACE,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,8BAA8B;EAC9B,eAAe;EACf,4BAA4B;EAC5B,iBAAiB;EACjB,mBAAmB;EACnB,gBAAgB;AAClB;AACA;EACE,8BAA8B;EAC9B,aAAa;EACb,mBAAmB;EACnB,mDAA2C;UAA3C,2CAA2C;EAC3C,iBAAiB;AACnB;AACA;EACE,cAAc;EACd,kBAAkB;EAClB,gBAAgB;AAClB;AACA;EACE,eAAe;AACjB;AACA;EACE,cAAc;AAChB;AACA;EACE,iBAAiB;AACnB;AACA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,8BAA8B;EAC9B,eAAe;EACf,cAAc;EACd,iBAAiB;EACjB,gBAAgB;EAChB,iBAAiB;AACnB;AACA;EACE,+BAA+B;EAC/B,eAAe;EACf,cAAc;EACd,iBAAiB;EACjB,iBAAiB;EACjB,eAAe;AACjB;AACA;EACE,+BAA+B;EAC/B,eAAe;EACf,cAAc;EACd,iBAAiB;EACjB,iBAAiB;EACjB,gBAAgB;AAClB;AACA;EACE,YAAY;EACZ,6BAA6B;EAC7B,mBAAmB;EACnB,iBAAiB;EACjB,iBAAiB;EACjB,mBAAmB;AACrB;AACA;EACE,8BAA8B;EAC9B,aAAa;EACb,eAAe;EACf,mBAAmB;EACnB,0BAA0B;EAC1B,mDAA2C;UAA3C,2CAA2C;EAC3C,kBAAkB;AACpB;AACA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,eAAe;EACf,YAAY;EACZ,iBAAiB;AACnB;AACA;EACE,kBAAkB;AACpB;AACA;EACE,oBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,8BAAmB;EAAnB,6BAAmB;MAAnB,uBAAmB;UAAnB,mBAAmB;AACrB;AACA;EACE,6BAA6B;AAC/B;AACA;EACE,WAAW;EACX,iBAAiB;EACjB,8BAAsB;UAAtB,sBAAsB;AACxB;AACA;EACE,kCAAkC;EAClC,eAAe;EACf,kBAAkB;EAClB,eAAe;EACf,mCAAmC;EACnC,gCAAgC;EAChC,kCAAkC;AACpC;AACA;EACE,eAAe;AACjB",file:"Source.less",sourcesContent:['/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors,string-no-newline */\n/*** z-index ***/\n/*** global mixins ***/\n.ellipsis {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.hideScrollbar {\n  overflow: -moz-scrollbars-none !important;\n  -ms-overflow-style: none !important;\n}\n.hideScrollbar::-webkit-scrollbar {\n  display: none;\n}\n.antFormItemStyleWithoutForm :global .ant-select,\n.antFormItemStyleWithoutForm :global .ant-input-number {\n  width: 100%;\n}\n.antFormItemStyleWithoutForm :global .ant-input-group {\n  line-height: inherit;\n}\n.antFormItemStyleWithoutForm :global .ant-input-group.ant-input-group-compact > * {\n  vertical-align: baseline;\n}\n.antFormItemStyleWithoutForm :global .ant-calendar-picker {\n  width: 100% !important;\n  min-width: auto !important;\n}\n.antFormItemStyleWithoutForm.small :global .ant-form-item-control {\n  line-height: 32px;\n}\n.container {\n  padding: 10px;\n}\n.hide {\n  display: none !important;\n}\n.formStepArea {\n  padding: 0 5%;\n  margin: 10px 0 30px;\n}\n.mainTitle {\n  font-family: PingFangSC-Medium;\n  font-size: 18px;\n  color: rgba(4, 12, 44, 0.85);\n  letter-spacing: 0;\n  margin-bottom: 20px;\n  font-weight: 500;\n}\n.content-card {\n  width: calc((100% - 30px) / 4);\n  height: 183px;\n  background: #FFFFFF;\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.07);\n  margin-left: 10px;\n}\n.content-card:nth-child(n+5) {\n  margin-left: 0;\n  margin-right: 10px;\n  margin-top: 10px;\n}\n.content-card:nth-child(4n) {\n  margin-right: 0;\n}\n.content-card:first-child {\n  margin-left: 0;\n}\n.content-card .inner-img {\n  line-height: 20px;\n}\n.content-card .inner-img img {\n  width: 20px;\n  height: 19px;\n}\n.content-card .inner-name {\n  font-family: PingFangSC-Medium;\n  font-size: 14px;\n  color: #040C2C;\n  letter-spacing: 0;\n  margin-top: 10px;\n  line-height: 22px;\n}\n.content-card .inner-type {\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #5C6176;\n  letter-spacing: 0;\n  line-height: 18px;\n  margin-top: 8px;\n}\n.content-card .inner-time {\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #C0C2CA;\n  letter-spacing: 0;\n  line-height: 18px;\n  margin-top: 24px;\n}\n.content-card .inner-footer {\n  height: 30px;\n  border-top: 1px solid #E5E8EA;\n  margin: 8px -10px 0;\n  line-height: 30px;\n  text-align: right;\n  padding-right: 10px;\n}\n.createCrad {\n  width: calc((100% - 30px) / 4);\n  height: 183px;\n  cursor: pointer;\n  background: #FFFFFF;\n  border: 1px dashed #CDCED5;\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.07);\n  border-radius: 2px;\n}\n.createCrad .inner-text-add {\n  text-align: center;\n  margin-bottom: 10px;\n  font-size: 16px;\n  height: 30px;\n  line-height: 30px;\n}\n.createCrad .inner-text {\n  text-align: center;\n}\n.flex-wrapper {\n  display: flex;\n  flex-flow: row wrap;\n}\n:global [data-v-source] .ant-card-body {\n  padding: 20px 10px !important;\n}\n:global [data-v-source] .inner-dropdown {\n  width: 98px;\n  padding-left: 9px;\n  box-sizing: border-box;\n}\n:global [data-v-source] .iconfont {\n  font-family: "iconfont" !important;\n  font-size: 16px;\n  font-style: normal;\n  cursor: pointer;\n  -webkit-font-smoothing: antialiased;\n  -webkit-text-stroke-width: 0.2px;\n  -moz-osx-font-smoothing: grayscale;\n}\n:global [data-v-source] .add-icon {\n  font-size: 30px;\n}\n']}]),t.locals={ellipsis:"bXrEXctkPn4FVRM6g3Ot2",hideScrollbar:"QpUFaQ1oo3Z_RiQQrQM9U",antFormItemStyleWithoutForm:"_6l8wnmHYxTHD0e5D0_tVn",small:"_1zIutEzPekwi0AXiSMvxXF",container:"z0KoIAmJrefsimkKf6NgO",hide:"_1Xx6gNGT_Q5bE7Zl7KFDZq",formStepArea:"_1d6sTu-Fa0Ww922z03SJFG",mainTitle:"_37QoBezcerwItj9bxIrNGG","content-card":"_5xJy_wf5ETKw7ymd9A24g","inner-img":"akUYIY2q585VzrTJi95Hv","inner-name":"_3AcBnqVrOuwq08Y36vr8pm","inner-type":"_3hX53Fpg6xeWaKeUO3D0oU","inner-time":"_2FBaKjoA9fBk0nUEXhEZsK","inner-footer":"VMPkDQ0iF17q5BbVyP0dC",createCrad:"_3Nqkv2ZIInauTCFVpLxMok","inner-text-add":"_2fnFPNMidMreccRW5MWtkK","inner-text":"jfRKUbF61Z-h71UwrizE2","flex-wrapper":"_3HUG5TWRHkG_g0w93cyqCb"}},d79ae608f27c522f8a5a:function(e,t,n){var a=n("5b0894b89ef20053f7a2"),r=n("abb2eb7351f3220723bd"),o=n("4d583157694d3ca5032d"),c=n("8281eac5b0e77b12ae0b"),i=n("490b9ac1330e7a5c9a22"),l=n("e976e84f8e13bbe9feac");e.exports=function(e,t,n){for(var u=-1,s=(t=a(t,e)).length,d=!1;++u<s;){var p=l(t[u]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++u!=s?d:!!(s=null==e?0:e.length)&&i(s)&&c(p,s)&&(o(e)||r(e))}},d7b93a8ce19a40809f44:function(e,t,n){var a=n("71690be4853760f06ce2"),r=n("d79ae608f27c522f8a5a");e.exports=function(e,t){return null!=e&&r(e,t,a)}},e3469c3600b7a8161b67:function(e,t,n){"use strict";var a=n("c389aac0efb56eb7cd62"),r=n("ae06f1853dfdea72b9bb");var o={sourcesTotal:0,sources:null,listLoading:!1,formLoading:!1,testLoading:!1,resetLoading:!1,datasourcesInfo:[]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;return Object(a.a)(e,(function(e){switch(t.type){case r.a.LOAD_SOURCES:e.listLoading=!0;break;case r.a.LOAD_SOURCES_SUCCESS:e.listLoading=!1;var n=t.payload.sourceResponse;e.sources=n.sources,e.sourcesTotal=n.total;break;case r.a.LOAD_SOURCES_FAILURE:e.listLoading=!1;break;case r.a.ADD_SOURCE:e.formLoading=!0;break;case r.a.ADD_SOURCE_SUCCESS:case r.a.ADD_SOURCE_FAILURE:e.formLoading=!1;break;case r.a.DELETE_SOURCE:e.listLoading=!0;break;case r.a.DELETE_SOURCE_SUCCESS:case r.a.DELETE_SOURCE_FAILURE:e.listLoading=!1;break;case r.a.EDIT_SOURCE:e.formLoading=!0;break;case r.a.EDIT_SOURCE_SUCCESS:case r.a.EDIT_SOURCE_FAILURE:e.formLoading=!1;break;case r.a.TEST_SOURCE_CONNECTION:e.testLoading=!0;break;case r.a.TEST_SOURCE_CONNECTION_SUCCESS:case r.a.TEST_SOURCE_CONNECTION_FAILURE:e.testLoading=!1;break;case r.a.RESET_SOURCE_CONNECTION:e.resetLoading=!0;break;case r.a.RESET_SOURCE_CONNECTION_SUCCESS:case r.a.RESET_SOURCE_CONNECTION_FAILURE:e.resetLoading=!1;break;case r.a.LOAD_DATASOURCES_INFO_SUCCESS:e.datasourcesInfo=t.payload.info}}))}}}]);