(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{"6f85cf87a87f14368f0f":function(e,t,r){"use strict";r.r(t),r.d(t,"UserProfile",(function(){return H})),r.d(t,"mapDispatchToProps",(function(){return M}));r("f18022db874aa220f770"),r("2c5f629531253b6ec120"),r("e03a1fbff99f345f4be6"),r("3e773e5b33927ebcb5b1"),r("f3eb7a47d3412ebe8e7a"),r("6b53ae9c33928274a0e1"),r("57b7f737e63a2682a681"),r("0f2c84258b1b832c8127");var a=r("246df9874efc20494c0b"),n=r.n(a),c=r("1ef410853c9be3dadf79"),o=r("fa00940e6bf87c1990f4"),l=r("5e87ed05c2869acf4295"),i=r("ed1dbae5feb60ccfcd7a"),f=r("660df7484ce95679b135"),u=r("066c69df81c9f89684e9"),s=function(e){return e.profile},p=r("4f0dccf943f1a6635b4a"),b=r("811a4999285c4f950f0a"),m="davinci/Profile/GET_USER_PROFILE";function d(e){return{type:m,payload:{id:e}}}function y(e){return{type:"davinci/Profile/GET_USER_PROFILE_SUCCESS",payload:{result:e}}}var v=r("fe25efaa8d6f45e3f5f9"),E=r("c389aac0efb56eb7cd62"),h={userProfile:!1,loading:!1},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,(function(e){switch(t.type){case m:e.loading=!0;break;case"davinci/Profile/GET_USER_PROFILE_SUCCESS":e.loading=!1,e.userProfile=t.payload.result}}))},P=(r("ac96dedceb53987893c2"),r("612ec9d7faa9910b9d79")),g=r("95066b9b78a83cfbe91a"),j=r("9adba983ceae6f089ff0"),w=r("55c69f0ea731e712b8f3"),_=regeneratorRuntime.mark(k),R=regeneratorRuntime.mark(S);function k(e){var t,r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.id,n.prev=1,n.next=4,Object(P.call)(g.a,{method:"get",url:"".concat(j.a.user,"/profile/").concat(t)});case 4:return r=n.sent,a=r.payload,n.next=8,Object(P.put)(y(a));case 8:n.next=15;break;case 10:return n.prev=10,n.t0=n.catch(1),n.next=14,Object(P.put)({type:"davinci/Profile/GET_USER_PROFILE_FAILURE"});case 14:Object(w.a)(n.t0);case 15:case"end":return n.stop()}}),_,null,[[1,10]])}function S(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.all)([Object(P.takeLatest)(m,k)]);case 2:case"end":return e.stop()}}),R)}function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=N(e);if(t){var n=N(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return L(this,r)}}function L(e,t){return!t||"object"!==I(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=l.Form.Item,B=r("ccc0c5b9c03083d68baa"),z=r("52edbe949b632fdddfaf"),D=n.a.createElement(l.Icon,{type:"bars"}),W=n.a.createElement(l.Input,{disabled:!0}),J=n.a.createElement(l.Input,{disabled:!0}),V=n.a.createElement(l.Input,{disabled:!0}),A=n.a.createElement(f.a,{path:"",size:"large"}),H=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(u,e);var t,r,a,c=T(u);function u(){return F(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.match;(0,e.onGetUserProfile)(+t.params.userId)}},{key:"componentWillReceiveProps",value:function(e){if(e&&e.userProfile!==this.props.userProfile){var t=e.userProfile,r=t.name,a=t.description,n=t.department;this.props.form.setFieldsValue({name:r,description:a,department:n})}}},{key:"render",value:function(){var e=this.props.userProfile,t={labelCol:{span:20},wrapperCol:{span:20}},r=void 0;e&&(r=e.organizations.map((function(e,t){return n.a.createElement(l.Tooltip,{key:"".concat(e,"_").concat(t,"_tooltip"),placement:"bottom",title:e.name},n.a.createElement("div",{key:"".concat(e,"_").concat(t),className:B.avatarWrapper},n.a.createElement(f.a,{path:e.avatar,size:"small"})))})));var a=e.name?e.name:"\u4ed6",c=this.props.form.getFieldDecorator;return n.a.createElement(i.a,null,n.a.createElement(i.a.Header,null,n.a.createElement(i.a.Title,null,n.a.createElement(l.Breadcrumb,{className:z.breadcrumb},n.a.createElement(l.Breadcrumb.Item,null,n.a.createElement(o.Link,{to:"/account/profile"},D,"".concat(a,"\u7684\u4fe1\u606f")))))),n.a.createElement(i.a.Body,null,n.a.createElement("div",{className:B.containerWarp},n.a.createElement("div",{className:B.form},n.a.createElement(l.Form,{layout:"vertical",className:B.formView},n.a.createElement(l.Row,null,n.a.createElement(l.Col,null,n.a.createElement(G,C({},t,{label:"\u59d3\u540d"}),c("name",{})(W))),n.a.createElement(l.Col,null,n.a.createElement(G,C({},t,{label:"\u63cf\u8ff0"}),c("description",{})(J))),n.a.createElement(l.Col,null,n.a.createElement(G,C({},t,{label:"\u90e8\u95e8"}),c("department",{})(V))),n.a.createElement(l.Col,null,n.a.createElement(G,C({},t,{label:"\u7ec4\u7ec7"}),c("org",{})(n.a.createElement("div",{className:B.orgIcon},r))))))),n.a.createElement("div",{className:B.avatar},A))))}}])&&U(t.prototype,r),a&&U(t,a),u}(n.a.PureComponent);function M(e){return{onGetUserProfile:function(t){return e(d(t))}}}var q=Object(u.b)({loading:Object(u.a)(s,(function(e){return e.loading})),userProfile:Object(u.a)(s,(function(e){return e.userProfile}))}),K=Object(c.connect)(q,M),Q=Object(b.a)({key:"profile",reducer:O}),X=Object(v.a)({key:"profile",saga:S});t.default=Object(p.compose)(Q,X,K)(l.Form.create()(H))}}]);